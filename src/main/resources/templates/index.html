<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<title>Form Validation</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
	<link rel="stylesheet" th:href="@{/style.css}">
</head>

<body>

	<div class="container d-flex justify-content-center mt-4">
	
		<form novalidate="novalidate" class="shadow rounded p-3 w-50 bg-white"
			  th:action="@{/process}" method="POST"
			  th:object="${loginDetails}">
			<h2 class="text-center">Server side validation</h2>
			<div class="mb-3">
				<label for="" class="form-label">Username</label>
				<input type="text" class="form-control" name="username"
					   th:classappend="${#fields.hasErrors('username')?'is-invalid':''}"
					   th:value="${loginDetails.username}">
				<div class="invalid-feedback"
					 th:each="err : ${#fields.errors('username')}"
				     th:text="${err}"></div>
			</div>
			<div class="mb-3">
				<label for="exampleInputEmail1" class="form-label">Email address</label>
				<input type="email" class="form-control" name="email"
					th:classappend="${#fields.hasErrors('email')?'is-invalid':''}"
					th:value="${loginDetails.email}">
				<div class="invalid-feedback"
					 th:each="err : ${#fields.errors('email')}"
				     th:text="${err}">
				</div>
			</div>
			<div class="mb-3 col-auto">
				<label for="exampleInputPassword1" class="form-label">Password</label>
				<input type="password" class="form-control" name="password"
					   th:classappend="${#fields.hasErrors('password')?'is-invalid':''}"
					   th:value="${loginDetails.password}">
				<div class="invalid-feedback"
					 th:each="err : ${#fields.errors('password')}"
				     th:text="${err}">
				</div>
			</div>
			<div class="mb-3 form-check">
				<input type="checkbox" class="form-check-input" name="agreement"
				 th:classappend="${#fields.hasErrors('agreement')?'is-invalid':''}">
				<label class="form-check-label" for="">&copy;Agree Terms & Conditions</label>
				<div class="invalid-feedback"
					 th:each="err : ${#fields.errors('agreement')}"
				     th:text="${err}">
				</div>
			</div>
			
			<div class="text-center">			
				<button type="submit" class="btn btn-primary">Submit</button>
				<button type="reset" class="btn btn-danger">Reset</button>
			</div>
			<div th:if="${success}" th:text="${success}"
				 class="alert alert-success mt-2" role="alert">
			</div>
		</form>
		
	</div>
</body>

</html>